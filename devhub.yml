version: v2
navigator: Douglas Yau
name: kayako_classic
email: douglas.yau@crossover.com
repo:
  companyName: Think3
  productName: KAYAKOC
  repoUrl: https://github.com/trilogy-group/kayako-SWIFT
  branch: single_repo
  repoType: Distributable artifacts
  githubTokenSecretId: doug-git
buildDeps:
  - repo:
build:
  techStack: php:7.0-cli
  buildOs: Debian 9
  runtimeVersion: php 7.2
  buildTool:
  preBuild:
  buildCommand:
unitTest:
  utFramework: PHPUnit
  preTest: cd trunk && composer install  --classmap-authoritative --optimize-autoloader
  testCommand: wget https://raw.githubusercontent.com/composer/getcomposer.org/76a7060ccb93902cd7576b67264ad91c8a2700e2/web/installer -O - -q | php -- --quiet && phpunit --no-coverage -c trunk/tests/phpunit.jenkins.xml
integration test:
  integrationTestFramework: NA
  preIntegrationTest:
  integrationTestCommand:
package:
  packageTool: composer
  packageCommand:  php scripts/package.php
  artifactDir: scripts/files
deployDeps:
deploy:
  serviceName: Kayako-Swift
  deploymentCheck: ProductionHealthCheck
  stickySessions: False
  canUseLb: False
  stablePersistence: False
  fixedNetworkIdentifier: False
  deployCommand:
storage:
ports:
envVars:
run:
dockerized:
